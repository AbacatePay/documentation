---
title: 'Autenticación'
description: 'Cómo enviar peticiones a nuestra API'
icon: 'lock'
---

<Tip>
  **Clave de API**: Tu credencial de acceso a la API de AbacatePay. Esta clave identifica tu cuenta y autoriza tus peticiones. **IMPORTANTE**: Sin la clave de API, las peticiones serán rechazadas.
</Tip> 

## <Icon icon="lock" type="solid"/>  Gestionando claves de API

Gestiona tus claves de API directamente en nuestra plataforma. Puedes:
- Listar todas las claves activas
- Crear nuevas claves
- Revocar claves existentes

<Card title="Entornos y Claves de API" icon="book" horizontal>
  Todas las peticiones se envían al mismo endpoint (`https://api.abacatepay.com`), pero el entorno se determina por la clave de API utilizada:
  - Las claves creadas en **dev mode** procesan transacciones en el entorno de pruebas
  - Las claves creadas en **producción** procesan transacciones reales
  
  Conoce más sobre el entorno de desarrollo <a href="./devmode">aquí</a>.
</Card>

<Card title="Error de Autenticación" icon="warning" horizontal>
  La API retornará el código HTTP `401` cuando:
  - La clave de API no sea proporcionada en el header
  - La clave sea inválida
  - La clave haya sido revocada
</Card>

## <Icon icon="key" type="solid"/>  Creando claves de API

<Card title="Buenas Prácticas de Seguridad" icon="light-emergency-on" horizontal>
  * Almacena tus claves en variables de entorno o gestores de secretos
  * Nunca compartas tus claves de API
  * AbacatePay nunca solicitará tus claves
  * Revoca inmediatamente cualquier clave comprometida
</Card>

## Cómo crear tu clave de API

Sigue estos pasos en el dashboard de AbacatePay:

<Steps>
  <Step title="Accede a la Sección de Integración">
    <Card>
      <img
        src="/images/criar-chave-api.png"
        alt="Interfaz de la plataforma AbacatePay mostrando el botón de creación de clave"
      />
      <Card title="Haz clic en el botón 'Crear Clave'">
        Inicia el proceso de creación de una nueva clave de API
      </Card>
    </Card>
  </Step>
  <Step title="Agrega una Descripción">
    <Card>
      <img
        src="/images/exemplo-de-chave-api.png"
        alt="Formulario de creación de clave con campo de descripción"
      />
      <Card title="Identifica tu clave">
        Agrega una descripción clara para identificar el propósito de esta clave
      </Card>
    </Card>
  </Step>
  <Step title="Copia tu Clave">
    <Card>
      <img
        src="/images/copiar-chave-api.png"
        alt="Lista de claves con opción para copiar"
      />
      <Card title="Almacena tu clave con seguridad">
        Copia la clave generada y almacénala en un lugar seguro
      </Card>
    </Card>
  </Step>
</Steps>

Después de crear tu clave, puedes comenzar a integrar con nuestra API. Recuerda incluir la clave en todas las peticiones en el header `Authorization`:

```bash
curl -X POST https://api.abacatepay.com/v1/payments \
  -H "Authorization: Bearer tu_clave_api" \
  -H "Content-Type: application/json" \
  -d '{"amount": 1000}'
```

<Card title="Nota Importante" icon="info" horizontal>
  El mismo endpoint (`https://api.abacatepay.com`) se usa tanto para el entorno de desarrollo como para producción. El entorno se determina automáticamente por la clave de API utilizada en la petición.
</Card>
